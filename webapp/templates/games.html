{% extends "base.html" %}
{% load bootstrap5 %}

<html>
<head>
    <meta charset="utf-8">
    <title>{% block title %}Games{% endblock %}</title>
    {% bootstrap_css %}
    {% bootstrap_javascript %}
</head>

<body>
    {% block content %}
    {% if user.is_authenticated %}

    <h1>Basketland</h1>
    <br>

    <button type="button" class="btn btn-warning" onclick="location.href='{% url 'players' %}'">
      Players
    </button>

    <button type="button" class="btn btn-warning" onclick="location.href='{% url 'teams' %}'">
      Teams
    </button>

    <button type="button" class="btn btn-warning" onclick="location.href='{% url 'games' %}'">
        Games
    </button>

    <br><br>

    <div class="row">
        {% for game in gamesData.data %}
          <div class="col-sm-2">
            <div class="card text-white bg-primary border-light mb-3" style="width: 12rem;">
              <div class="card-body">
                <strong>Game:</strong> {{ game.home_team.abbreviation }} VS {{ game.visitor_team.abbreviation }} <br>
                <strong>Date:</strong> {{ game.date }} <br>
              </div>
            </div>
            <br>  
          </div>
        {% endfor %}        
    </div>

    {% if gamesData.meta.next_page %}
        <a href="?page={{ gamesData.meta.current_page|add:-1 }}">Previous Page</a>
        <a href="?page={{ gamesData.meta.current_page|add:1 }}">Next Page</a>
    {% endif %}

    <p><a href="{% url 'logout' %}">Se déconnecter</a></p>
    {% else %}
      <p>Tu n'es pas connecté. Tu ne peux pas continuer sans être connecté.</p>
      <a href="{% url 'login' %}">Se connecter</a>
      <a href="{% url 'signup' %}">S'inscrire</a>
    {% endif %}
  
    {% endblock %}
</body>
</html>